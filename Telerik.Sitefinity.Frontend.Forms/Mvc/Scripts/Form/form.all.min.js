!function(y){void 0!==window.FormData&&y(function(){y('[data-sf-role="form-container"]:has([data-sf-role="ajax-submit-url"])').each(function(t,e){var d=y(e),u=d.find('[data-sf-role="loading-img"]'),p=d.find('[data-sf-role="fields-container"]'),h=d.find('[data-sf-role="success-message"]'),g=d.find('[data-sf-role="error-message"]'),v=d.find('input[data-sf-role="redirect-url"]').val(),m=d.find('input[data-sf-role="ajax-submit-url"]').val();d.find('button[type="submit"],input[type="submit"]').click(function(){var s=d.closest("form"),l=s.children();0<s.length&&0<s.length&&l.unwrap();var f=d.find("form"),c=!1;0===f.length&&(c=!0,d.wrap("<form />"),f=d.parent()),f.one("submit",function(){for(var t=d.find("input"),e=!0,a=0;a<t.length;a++){var i=y(t[a]);"function"==typeof i.data("sfvalidator")&&(e=i.data("sfvalidator")()&&e)}if(!e)return!1;if("undefined"!=typeof MarketoSubmitScript){MarketoSubmitScript._populateFormId(y(f).find('input[data-sf-role="form-id"]').val());var r=y(f).find(MarketoSubmitScript._settings.externalFormSubmitButtonsQuery);0<r.length&&(MarketoSubmitScript._formFields=MarketoSubmitScript._getExternalFormFields(r[0])),MarketoSubmitScript._formFields&&0===MarketoSubmitScript._formFields.length&&MarketoSubmitScript._populateFieldsFromLabels(f),MarketoSubmitScript._formSubmitHandler()}var n=new FormData(f[0]),o=new XMLHttpRequest;return o.open("POST",m),o.onload=function(){if(200===o.status){var t=JSON.parse(o.response);t.success?t.redirectUrl&&""!==t.redirectUrl?document.location.replace(t.redirectUrl):t.message&&""!==t.message?(h.text(t.message),h.show(),u.hide()):v?document.location.replace(v):(h.show(),u.hide()):(g.text(t.error),g.show(),p.show(),p.find('[data-sf-role="captcha-refresh-button"]').click(),u.hide())}},u.show(),p.hide(),g.hide(),o.send(n),c&&d.unwrap(),0<s.length&&l.wrapAll(s),!1})})})})}(jQuery),function(r){"use strict";function t(t){this.rootUrl=t&&"/"!==t[t.length-1]?t+"/":t}t.prototype={makeAjax:function(t,e,a){var i={type:e||"GET",url:t,contentType:"application/json",accepts:{text:"application/json"},cache:!1};return a&&(i.data=JSON.stringify(a)),r.ajax(i)},getCaptcha:function(){var t=this.rootUrl;return this.makeAjax(t)},validateCaptcha:function(t){var e=this.rootUrl;return this.makeAjax(e,"POST",t)}};function n(t,e,a){this.wrapper=t,this.settings=e,this.resources=a}function a(t){var e=r(t).parents('[data-sf-role="field-captcha-container"]'),a=r(e).find('[data-sf-role="violation-messages"]');return JSON.parse(a.val())}function i(t,e){var a,i,r=o(t);r?(i=e,""===((a=r).innerText=i)?a.style.display="none":a.style.display="block"):t.setCustomValidity(e)}function o(t){var e=r(t).closest('[data-sf-role="field-captcha-container"]')[0];return e?e.querySelector('[data-sf-role="error-message"]'):null}function s(t){if(void 0!==t.target.validity){if(t.target.required&&t.target.validity.valueMissing){var e=a(t.target);i(t.target,e.required)}else i(t.target,"");o(t.target)||t.data.hideInvalidMessage()}}function l(t){if(void 0!==t.target.validity){o(t.target)&&t.preventDefault();var e=a(t.target);t.target.validity.valueMissing&&i(t.target,e.required)}}n.prototype={getOrInitializeProperty:function(t,e){return this[t]||(this[t]=this.getElementByDataSfRole(e)),this[t]},getElementByDataSfRole:function(t){return this.wrapper.find('[data-sf-role="'+t+'"]')},captchaImage:function(){return this.getOrInitializeProperty("_captchaImage","captcha-image")},captchaAudio:function(){return this.getOrInitializeProperty("_captchaAudio","captcha-audio")},captchaAudioBtn:function(){return this.getOrInitializeProperty("_captchaAudioBtn","captcha-audio-btn")},captchaInput:function(){return this.getOrInitializeProperty("_captchaInput","captcha-input")},captchaRefreshLink:function(){return this.getOrInitializeProperty("_captchaRefreshLink","captcha-refresh-button")},captchaDataKey:function(){return this.getOrInitializeProperty("_captchaDataKey","captcha-k")},captchaDataInvalidAnswerMessage:function(){return this.getOrInitializeProperty("_captchaDataInvalidAnswerMessage","captcha-iam")},errorMessage:function(){return this.getOrInitializeProperty("_errorMessage","error-message")},captchaRefresh:function(){var e=this,a=r.Deferred();return e.captchaImage().attr("src",""),e.captchaInput().hide(),e.restApi.getCaptcha().then(function(t){t&&(e.captchaImage().attr("src","data:image/png;base64,"+t.Image),e.captchaAudio().attr("src","data:audio/wav;base64,"+t.Audio),e.captchaAudioBtn().click(function(){e.captchaAudio()[0].play()}),e.captchaDataKey().val(t.Key),e.captchaInput().val(""),e.captchaInput().show(),e.wrapper.show()),a.resolve(!0)}),a},validateInput:function(){var e=this,a=r.Deferred(),t={Answer:e.captchaInput().val(),Key:e.captchaDataKey().val()};return e.restApi.validateCaptcha(t).then(function(t){t.IsValid?e.hideInvalidMessage():(e.showInvalidMessage(),t.RefreshCaptcha?e.captchaRefresh():(e.wrapper.find("input").focus(),e.wrapper.find("input").select())),a.resolve(t.IsValid)}),a},initializeProperties:function(){this.restApi=new t(this.settings.rootUrl),this.captchaData={key:null}},initializeCaptcha:function(){this.captchaRefresh()},initializeHandlers:function(){var t=this;t.captchaRefreshLink().click(function(){return t.captchaRefresh(),!1})},showInvalidMessage:function(){if(0<this.errorMessage().length){var t=this.captchaDataInvalidAnswerMessage().val();this.errorMessage().text(t),this.errorMessage().show()}else this.getElementByDataSfRole("invalid-captcha-input").css("visibility","visible")},hideInvalidMessage:function(){0<this.errorMessage().length?this.errorMessage().hide():this.getElementByDataSfRole("invalid-captcha-input").css("visibility","hidden")},initialize:function(){this.initializeProperties(),this.initializeCaptcha(),this.initializeHandlers(),this.hideInvalidMessage()}},r(function(){r('[data-sf-role="field-captcha-container"]').each(function(){var t=r(this),e=t.find('[data-sf-role="captcha-settings"]').val(),a=new n(t,{rootUrl:e});a.initialize();var i=t.find('[data-sf-role="captcha-input"]');i&&(i.on("change",a,s),i.on("input",a,s),i.on("invalid",l),i.data("widget-validator",function(){return a.validateInput()}))})})}(jQuery),function(f){function c(t){var e=f(t.target).parents('[data-sf-role="checkboxes-field-container"]'),a=f(e).find('[data-sf-role="checkboxes-field-input"]');0<f(e).find('input[data-sf-role="checkboxes-field-input"]:checked').length||"False"===e.find('[data-sf-role="required-validator"]').val()?(f(a[0]).removeAttr("required"),i(a[0],"")):f(a[0]).attr("required","required")}function d(t){var e=a(t.target);n(t.target)&&t.preventDefault(),t.target.validity.valueMissing&&i(t.target,e.required)}var a=function(t){var e=f(t).parents('[data-sf-role="checkboxes-field-container"]'),a=f(e).find('[data-sf-role="violation-messages"]');return JSON.parse(a.val())},i=function(t,e){var a=n(t);a?r(a,e):t.setCustomValidity(e)},r=function(t,e){t.innerText=e,t.style.display=""===e?"none":"block"},n=function(t){var e=f(t).closest('[data-sf-role="checkboxes-field-container"]')[0];return e?e.querySelector('[data-sf-role="error-message"]'):null};f(function(){var t=f('[data-sf-role="checkboxes-field-container"]');if(t&&!(t.length<1)){function e(t){var e=f(t.target).parents('[data-sf-role="checkboxes-field-container"]'),a=e.find('input[data-sf-role="checkboxes-field-input"]'),i=f(e.find('[data-sf-checkboxes-role="other-choice-text"]').first()),r=f(e.find('[data-sf-checkboxes-role="other-choice-checkbox"]').first()),n=a.index(r),o=a.index(f(t.target)),s="True"===e.find('[data-sf-role="required-validator"]').val();o==n&&r.is(":checked")?(i.attr("type","text"),s?i.attr("required","required"):i.removeAttr("required")):(i.attr("type","hidden"),i.removeAttr("required"))}function a(t){var e=f(t.target).parents('[data-sf-role="checkboxes-field-container"]');f(e.find('[data-sf-checkboxes-role="other-choice-checkbox"]').first()).val(f(t.target).val()),"function"==typeof f.fn.processFormRules&&f(t.target).processFormRules()}for(var i,r=0;r<t.length;r++){var n=f(t[r]),o=n.find('[data-sf-role="checkboxes-field-input"]');"True"!==n.find('[data-sf-role="required-validator"]').val()||o.is(":checked")||f(o[0]).attr("required","required"),(i=o).on("change",function(t){c(t),"function"==typeof f.fn.processFormRules&&f(t.target).processFormRules()}),i.on("input",c),i.on("invalid",d);var s=n.find('input[data-sf-role="checkboxes-field-input"]'),l=f(n.find('[data-sf-checkboxes-role="other-choice-text"]').first());s.click(e),l.change(a)}}})}(jQuery),function(s){s(function(){function i(t){if(""===t.target.value){var e=a(t.target);n(t.target,e.required)}else n(t.target,"");"function"==typeof s.fn.processFormRules&&s(t.target).processFormRules()}function r(t){var e=a(t.target);o(t.target)&&t.preventDefault(),t.target.validity.valueMissing&&n(t.target,e.required)}function a(t){var e=s(t).parents('[data-sf-role="dropdown-list-field-container"]'),a=s(e).find('[data-sf-role="violation-messages"]');return JSON.parse(a.val())}function n(t,e){var a,i,r=o(t);r?(i=e,""===((a=r).innerText=i)?a.style.display="none":a.style.display="block"):t.setCustomValidity(e)}function o(t){var e=s(t).closest('[data-sf-role="dropdown-list-field-container"]')[0];return e?e.querySelector('[data-sf-role="error-message"]'):null}!function(){var t=s('[data-sf-role="dropdown-list-field-container"]');if(t&&!(t.length<1))for(var e=0;e<t.length;e++){var a=s(t[e]).find('[data-sf-role="dropdown-list-field-select"]');a&&(a.on("change",i),a.on("invalid",r))}}()})}(jQuery),function(l){function r(t){var e=t.find('[data-sf-role="remove-input"]');e.toggle(1<e.length)}function f(t,e,a){var i=l(t);i.appendTo(e),i.on("change",function(t){"function"==typeof l.fn.processFormRules&&l(t.target).processFormRules()}),a.AllowMultipleFiles&&(r(e),i.find('[data-sf-role="remove-input"]').click(function(){i.remove(),r(e),"function"==typeof l.fn.processFormRules&&l(e).processFormRules()}))}function c(t){var e=!t.data.config.IsRequired||function(t){for(var e=l('[data-sf-role="required-violation-message"]'),a=t.find('input[type="file"]'),i=null,r=0;r<a.length;r++){if(a[r].value)return e.hide(),!0;i=i||a[r]}return e.show(),i.focus(),!1}(t.data.container),a=0===t.data.config.AcceptedFileTypes.length||function(t,e){for(var a=!1,i=t.find('input[type="file"]'),r=0;r<i.length;r++){var n=l(i[r]).closest('[data-sf-role="single-file-input"]').find('[data-sf-role="filetype-violation-message"]');if(i[r].value){var o=i[r].value.lastIndexOf(".");if(0<=o){var s=i[r].value.substring(o).toLowerCase();if(e.indexOf(s)<0){n.show(),a=!0,i[r].focus();continue}}}n.hide()}return!a}(t.data.container,t.data.config.AcceptedFileTypes),i=!(t.data.config.MinFileSizeInMb||t.data.config.MaxFileSizeInMb)||function(t,e,a){if(void 0===window.File||void 0===window.FileList)return!0;for(var i=!1,r=t.find('input[type="file"]'),n=0;n<r.length;n++){var o=l(r[n]).closest('[data-sf-role="single-file-input"]').find('[data-sf-role="filesize-violation-message"]');if(0<r[n].files.length){var s=r[n].files[0];if(0<e&&s.size<e||0<a&&s.size>a){o.show(),i=!0,r[n].focus();continue}}o.hide()}return!i}(t.data.container,1024*t.data.config.MinFileSizeInMb*1024,1024*t.data.config.MaxFileSizeInMb*1024);return e&&a&&i}function a(t){var e,a,i=l(t),r=JSON.parse((e=i.attr("data-sf-config"),(a=document.createElement("a")).innerHTML=e,a.textContent)),n=i.find('[data-sf-role="file-field-inputs"]'),o=i.find('[data-sf-role="file-input-template"]').html(),s=i.closest("form");f(o,n,r),r.AllowMultipleFiles&&l(i).find('[data-sf-role="add-input"]').click(function(){f(o,n,r)}),i.find('input[type="file"]').data("sfvalidator",function(){return c({data:{config:r,container:n}})}),s.submit({config:r,container:n},c)}l(function(){var t=l('[data-sf-role="file-field-container"]');if(t&&!(t.length<1))for(var e=0;e<t.length;e++)a(t[e])})}(jQuery),function(f){function c(t){var e=f(t.target).parents('[data-sf-role="multiple-choice-field-container"]');f(e).find('[data-sf-role="multiple-choice-field-input"]').each(function(t,e){e.validity.valueMissing=!1,i(e,"")})}function d(t){var e=a(t.target);n(t.target)&&t.preventDefault(),t.target.validity.valueMissing&&i(t.target,e.required)}var a=function(t){var e=f(t).parents('[data-sf-role="multiple-choice-field-container"]'),a=f(e).find('[data-sf-role="violation-messages"]');return JSON.parse(a.val())},i=function(t,e){var a=n(t);a?r(a,e):t.setCustomValidity(e)},r=function(t,e){t.innerText=e,t.style.display=""===e?"none":"block"},n=function(t){var e=f(t).closest('[data-sf-role="multiple-choice-field-container"]')[0];return e?e.querySelector('[data-sf-role="error-message"]'):null};f(function(){var t=f('[data-sf-role="multiple-choice-field-container"]');if(t&&!(t.length<1)){function e(t){var e=f(t.target).parents('[data-sf-role="multiple-choice-field-container"]'),a=e.find('input[data-sf-role="multiple-choice-field-input"]'),i=f(e.find('[data-sf-multiple-choice-role="other-choice-text"]').first()),r=f(e.find('[data-sf-multiple-choice-role="other-choice-radio"]').first()),n=a.index(r),o=a.index(f(t.target)),s=f(a).first().attr("required");o==n?(i.attr("type","text"),s&&i.attr("required","required")):(i.attr("type","hidden"),i.removeAttr("required"))}function a(t){var e=f(t.target).parents('[data-sf-role="multiple-choice-field-container"]');f(e.find('[data-sf-multiple-choice-role="other-choice-radio"]').first()).val(f(t.target).val())}for(var i,r=0;r<t.length;r++){var n=f(t[r]),o=n.find('[data-sf-role="multiple-choice-field-input"]');(i=o).on("change",function(t){c(t),"function"==typeof f.fn.processFormRules&&f(t.target).processFormRules()}),i.on("input",c),i.on("invalid",d);var s=n.find('input[data-sf-role="multiple-choice-field-input"]'),l=f(n.find('[data-sf-multiple-choice-role="other-choice-text"]').first());s.click(e),l.change(a)}}})}(jQuery),function(u){void 0!==window.FormData&&u(function(){function a(l){function i(t,s){t.each(function(t,e){var n=u(e).find("[data-sf-navigation-index]"),a=c.length,i=Math.round(s/a*100),r=f.find('[data-sf-role="progress-bar"]'),o=f.find('[data-sf-role="progress-percent"]');r&&0<r.length&&r.width(i+"%"),o&&0<o.length&&o.text(i+"%"),n&&0<n.length&&n.each(function(t,e){var a=parseInt(u(e).data("sfNavigationIndex")),i=u(e).find("[data-sf-page-title]"),r="";(0<i.length&&(r=u(i).data("sfPageTitle")),a!==s)?u(e).removeClass("active"):(u(e).addClass("active"),function(t,e,a){if(!(d.length<=0)){var i=u(l).find('[data-sf-role="step-of-resources"]').val().replace("{0}",t).replace("{1}",e)+": "+a;d.attr("aria-valuenow",t),d.attr("aria-valueText",i)}}(++a,n.length,r));a<s?u(e).addClass("past"):u(e).removeClass("past")})})}var f=u(l),c=f.find('[data-sf-role="separator"]'),r=f.find('[data-sf-role="navigation-field-container"]'),d=f.find('[data-sf-role="sr-progressbar"]');i(r,0),f.on("form-page-changed",function(t,e,a){i(r,e)})}var t=u('[data-sf-role="form-container"]');t.each(function(t,e){a(e)});var e=-1!==window.location.href.indexOf("/Preview");if(0===t.length&&e){var i=u('[data-sf-role="separator"]');0<i.length&&a(i.parent())}})}(jQuery),function(v){void 0!==window.FormData&&v(function(){function a(t){var s=v(t),l=s.find(g),f=0,c=[],d=null,u=!1,p=null;function h(){var t=v(s).find("form");t.length<=0||(t.attr("tabindex",0),t.focus(),t.removeAttr("tabindex"))}s.on("form-page-changed",function(t,e,a){f=e}),s.on("form-page-skip",function(t,e){c=e}),l.each(function(t,e){v(e).hide()}),l.first().show(),l.first().find(e).hide(),l.last().find(i).hide(),l.find(i).click(function(t){t.preventDefault();var n,o,a=v(t.target).closest(g);n=function(){var t=f;if(a.hide(),c&&0<c.length){var e=function(t){for(var e=0;e<c.length;e++)if(c[e].SkipFromPage===t)return c[e];return null}(f);e?f=e.SkipToPage:f++}else f++;v(l[f]).show(),s.trigger("form-page-changed",[f,t]),h()},o=v(a),0===(p=v("form#stepNewForm")).length&&(o.wrap('<form id="stepNewForm"></form>'),p=o.parent()),p.one("submit",function(t){if(t.preventDefault(),0<t.target.innerHTML.length){for(var e=p.find("input"),a=!0,i=0;i<e.length;i++){var r=v(e[i]);"function"==typeof r.data("sfvalidator")&&(a=r.data("sfvalidator")()&&a)}if(!a)return!1;o.unwrap(),u&&d.remove(),n()}}),0===(d=o.find("input#stepNewFormSubmit")).length&&(d=v('<input id="stepNewFormSubmit" style="display:none;" type="submit"/>'),o.append(d),u=!0),d.click()}),l.find(e).click(function(t){t.preventDefault();var e=f,a=v("form#stepNewForm"),i=v(t.target).closest(g);if(0<a.children(g).length&&i.unwrap(),i.hide(),c&&0<c.length){var r=function(t){for(var e=0;e<c.length;e++)if(c[e].SkipToPage===t)return c[e];return null}(f);r?f=r.SkipFromPage:f--}else f--;v(l[f]).show(),s.trigger("form-page-changed",[f,e]),h()})}var g='[data-sf-role="separator"]',e='[data-sf-btn-role="prev"]',i='[data-sf-btn-role="next"]',t=v('[data-sf-role="form-container"]');t.each(function(t,e){a(e)});var r=-1!==window.location.href.indexOf("/Preview");if(0===t.length&&r){var n=v(g);0<n.length&&a(n.parent())}})}(jQuery),function(d){d(function(){function a(t){"function"==typeof d.fn.processFormRules&&d(t.target).processFormRules()}var i;function r(t){if(void 0!==t.target.validity){var e=l(t.target);t.target.required&&t.target.validity.valueMissing?f(t.target,e.required):t.target.validity.tooShort||t.target.validity.tooLong?f(t.target,e.maxLength):f(t.target,"")}}function n(t){r(t),a(t)}function o(t){var e;r(t),e=t,clearTimeout(i),i=setTimeout(function(){a(e)},300)}function s(t){if(void 0!==t.target.validity){c(t.target)&&t.preventDefault();var e=l(t.target);t.target.validity.valueMissing?f(t.target,e.required):(t.target.validity.tooShort||t.target.validity.tooLong||t.target.validity.patternMismatch)&&f(t.target,e.maxLength)}}function l(t){var e=d(t).parents('[data-sf-role="paragraph-text-field-container"]'),a=d(e).find('[data-sf-role="violation-messages"]');return JSON.parse(a.val())}function f(t,e){var a,i,r=c(t);r?(i=e,""===((a=r).innerText=i)?a.style.display="none":a.style.display="block"):t.setCustomValidity(e)}function c(t){var e=d(t).closest('[data-sf-role="paragraph-text-field-container"]')[0];return e?e.querySelector('[data-sf-role="error-message"]'):null}!function(){var t=d('[data-sf-role="paragraph-text-field-container"]');if(t&&!(t.length<1))for(var e=0;e<t.length;e++){var a=d(t[e]).find('[data-sf-role="paragraph-text-field-textarea"]');a&&(a.on("change",n),a.on("input",o),a.on("invalid",s))}}()})}(jQuery),function(o){o(function(){o('button[type="submit"]').each(function(){o(this).closest("form").submit(function(e){if(!e.isDefaultPrevented()){var t=o(this).find('button[type="submit"]');t.prop("disabled",!0);for(var a=e.target.querySelectorAll("input, textarea","select"),i=[],r=0;r<a.length;r++)o(a[r]).data("widget-validator")&&i.push(o(a[r]).data("widget-validator"));if(i.length){e.preventDefault();var n=[];for(r=0;r<i.length;r++)n.push(i[r]());o.when.apply(o,n).done(function(){for(var t=0;t<i.length;t++)if(!arguments[t])return!1;e.target.submit()}).always(function(){t.prop("disabled",!1)})}}})})})}(jQuery),function(d){d(function(){function a(t){"function"==typeof d.fn.processFormRules&&d(t.target).processFormRules()}var i;function r(t){if(void 0!==t.target.validity)if(t.target.required&&t.target.validity.valueMissing){var e=l(t.target);f(t.target,e.required)}else f(t.target,"")}function n(t){r(t),a(t)}function o(t){var e;r(t),e=t,clearTimeout(i),i=setTimeout(function(){a(e)},300)}function s(t){if(void 0!==t.target.validity){c(t.target)&&t.preventDefault();var e,a,i,r=l(t.target),n=(e=t.target,a=d(e).parents('[data-sf-role="text-field-container"]'),i=d(a).find('[data-sf-role="violation-restrictions"]'),JSON.parse(i.val())),o=t.target.value.length>=n.minLength;0<n.maxLength&&(o&=t.target.value.length<=n.maxLength),t.target.validity.valueMissing?f(t.target,r.required):t.target.validity.patternMismatch&&!o?f(t.target,r.maxLength):t.target.validity.patternMismatch&&o?f(t.target,r.regularExpression):t.target.validity.valid||f(t.target,r.invalid)}}function l(t){var e=d(t).parents('[data-sf-role="text-field-container"]'),a=d(e).find('[data-sf-role="violation-messages"]');return JSON.parse(a.val())}function f(t,e){var a,i,r=c(t);r?(i=e,""===((a=r).innerText=i)?a.style.display="none":a.style.display="block"):t.setCustomValidity(e)}function c(t){var e=d(t).closest('[data-sf-role="text-field-container"]')[0];return e?e.querySelector('[data-sf-role="error-message"]'):null}!function(){var t=d('[data-sf-role="text-field-container"]');if(t&&!(t.length<1))for(var e=0;e<t.length;e++){var a=d(t[e]).find('[data-sf-role="text-field-input"]');a&&(a.on("change",n),a.on("input",o),a.on("invalid",s))}}()})}(jQuery);
//# sourceMappingURL=form.all.min.js.map