!function(i){i(document).ready(function(){for(var e=i('[data-sf-role="searchTextBoxId"]'),t=0;t<e.length;t++){var s=i(e[t]);a({resultsUrl:s.siblings('[data-sf-role="resultsUrl"]').first().val(),indexCatalogue:s.siblings('[data-sf-role="indexCatalogue"]').first().val(),wordsMode:s.siblings('[data-sf-role="wordsMode"]').first().val(),disableSuggestions:i.parseJSON(s.siblings('[data-sf-role="disableSuggestions"]').first().val()),minSuggestionLength:s.siblings('[data-sf-role="minSuggestionLength"]').first().val(),suggestionFields:s.siblings('[data-sf-role="suggestionFields"]').first().val(),language:s.siblings('[data-sf-role="language"]').first().val(),siteId:s.siblings('[data-sf-role="siteId"]').first().val(),suggestionsRoute:s.siblings('[data-sf-role="suggestionsRoute"]').first().val(),searchTextBoxSelector:s.val(),searchButtonSelector:s.siblings('[data-sf-role="searchButtonId"]').first().val()})}function a(n){var l=i(n.searchTextBoxSelector);if(i(n.searchButtonSelector).click(o),l.keypress(function(e){e=e||window.event;var t=null;t=e.keyCode?e.keyCode:e.charCode;13==t&&o(e)}),!n.disableSuggestions){l.keyup(function(e){if(38!=e.keyCode&&40!=e.keyCode&&27!=e.keyCode){13==e.keyCode&&o(e);var t={},s=l.val().trim();s.length>=n.minSuggestionLength&&(t.IndexName=n.indexCatalogue,t.SuggestionFields=n.suggestionFields,t.Text=s,t.Language=n.language,t.SiteId=n.siteId,i.ajax({type:"GET",url:n.suggestionsRoute,dataType:"json",data:t,success:a}))}});try{l.autocomplete({source:[],messages:{noResults:"",results:function(){}},select:function(e,t){l.val(t.item.value),o(e)}}).autocomplete("widget").addClass("sf-autocomplete")}catch(e){}}function a(e,t){var s=e.Suggestions;l.autocomplete("option","source",s),l.autocomplete("search",l.val().trim())}function o(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1;var t,s,a,o,i=l.val();i&&i.trim()&&n.indexCatalogue&&(window.DataIntelligenceSubmitScript&&DataIntelligenceSubmitScript._client.sentenceClient.writeSentence({predicate:"Search for",object:l.val(),objectMetadata:[{K:"PageUrl",V:location.href}]}),window.location=(t=l.val().trim(),s=(-1==n.resultsUrl.indexOf("?")?"?":"&")+"indexCatalogue="+encodeURIComponent(n.indexCatalogue),a="&searchQuery="+encodeURIComponent(t),o="&wordsMode="+n.wordsMode,n.resultsUrl+s+a+o))}}})}(jQuery);
//# sourceMappingURL=Search-box.min.js.map